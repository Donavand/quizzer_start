{"ast":null,"code":"import _toConsumableArray from\"/Users/donavandaniels/quizzer_start/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/donavandaniels/quizzer_start/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/donavandaniels/quizzer_start/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Button,Form}from\"react-bootstrap\";import{QuestionEdit}from\"./QuestionEdit\";import\"./QuizEdit.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var QuizEdit=function QuizEdit(_ref){var quiz=_ref.quiz,editQuiz=_ref.editQuiz,deleteQuiz=_ref.deleteQuiz,switchEdit=_ref.switchEdit,resetView=_ref.resetView;var _useState=useState(_objectSpread({},quiz)),_useState2=_slicedToArray(_useState,2),newQuiz=_useState2[0],setNewQuiz=_useState2[1];var editQuestion=function editQuestion(questionId,newQuestion){setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{questionList:newQuiz.questionList.map(function(thisQuestion){return thisQuestion.id===questionId?newQuestion:thisQuestion;})}));};var removeQuestion=function removeQuestion(questionId){setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{questionList:newQuiz.questionList.filter(function(thisQuestion){return thisQuestion.id!==questionId;})}));};var saveChanges=function saveChanges(){editQuiz(quiz.id,_objectSpread({},newQuiz));};var swapQuestion=function swapQuestion(idx1,idx2){console.log(\"inside swap\");var x1Question=_objectSpread({},newQuiz.questionList[idx1]);var x2Question=_objectSpread({},newQuiz.questionList[idx2]);newQuiz.questionList.splice(idx1,1,x2Question);newQuiz.questionList.splice(idx2,1,x1Question);setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{questionList:newQuiz.questionList}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit_header\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formEditQuizId\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title_published_flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit_title_area\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title: \"}),/*#__PURE__*/_jsx(Form.Control,{value:newQuiz.title,onChange:function onChange(e){return setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{title:e.target.value}));}})]}),/*#__PURE__*/_jsx(Form.Check,{className:\"published_check\",type:\"checkbox\",id:\"is-published_check\",label:\"Quiz Published\",\"data-testid\":\"Quiz Published\",checked:newQuiz.published,onChange:function onChange(e){setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{published:!newQuiz.published}));}})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Description: \"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:newQuiz.body,onChange:function onChange(e){return setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{body:e.target.value}));}})]})}),/*#__PURE__*/_jsx(\"div\",{children:newQuiz.questionList.map(function(q,index){return/*#__PURE__*/_jsx(QuestionEdit,{index:index,lastIndex:newQuiz.questionList.length-1,question:q,editQuestion:editQuestion,removeQuestion:removeQuestion,swapQuestion:swapQuestion},newQuiz.id+\"|\"+q.id);})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{className:\"add_question_button\",onClick:function onClick(){setNewQuiz(_objectSpread(_objectSpread({},newQuiz),{},{questionList:[].concat(_toConsumableArray(newQuiz.questionList),[{id:newQuiz.questionList.length,body:\"Example Question\",type:\"short_answer_question\",options:[],submission:\"\",expected:\"Example Answer\",points:1,published:false}])}));},children:\"Add Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_footer\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"save_edit_btn\",onClick:function onClick(){saveChanges();switchEdit();},children:\"Save\"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:switchEdit,children:\"Cancel\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){deleteQuiz(quiz.id);resetView();},children:\"Delete Quiz\"})]})]})]});};","map":{"version":3,"sources":["/Users/donavandaniels/quizzer_start/src/quizzer/QuizEdit.tsx"],"names":["React","useState","Button","Form","QuestionEdit","QuizEdit","quiz","editQuiz","deleteQuiz","switchEdit","resetView","newQuiz","setNewQuiz","editQuestion","questionId","newQuestion","questionList","map","thisQuestion","id","removeQuestion","filter","saveChanges","swapQuestion","idx1","idx2","console","log","x1Question","x2Question","splice","title","e","target","value","published","body","q","index","length","type","options","submission","expected","points"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Question } from \"../interfaces/question\";\nimport { Quiz } from \"../interfaces/quiz\";\nimport { QuestionEdit } from \"./QuestionEdit\";\n\nimport \"./QuizEdit.css\";\ninterface quizEditProps {\n  quiz: Quiz;\n  editQuiz: (quizId: number, quiz: Quiz) => void;\n  deleteQuiz: (quizId: number) => void;\n  switchEdit: () => void;\n  resetView: () => void;\n}\n\nexport const QuizEdit = ({\n  quiz,\n  editQuiz,\n  deleteQuiz,\n  switchEdit,\n  resetView,\n}: quizEditProps) => {\n  const [newQuiz, setNewQuiz] = useState<Quiz>({ ...quiz });\n\n  const editQuestion = (questionId: number, newQuestion: Question) => {\n    setNewQuiz({\n      ...newQuiz,\n      questionList: newQuiz.questionList.map((thisQuestion: Question) =>\n        thisQuestion.id === questionId ? newQuestion : thisQuestion\n      ),\n    });\n  };\n\n  const removeQuestion = (questionId: number) => {\n    setNewQuiz({\n      ...newQuiz,\n      questionList: newQuiz.questionList.filter(\n        (thisQuestion: Question): Boolean => thisQuestion.id !== questionId\n      ),\n    });\n  };\n\n  const saveChanges = () => {\n    editQuiz(quiz.id, { ...newQuiz });\n  };\n\n  const swapQuestion = (idx1: number, idx2: number) => {\n    console.log(\"inside swap\");\n    const x1Question = { ...newQuiz.questionList[idx1] };\n    const x2Question = { ...newQuiz.questionList[idx2] };\n    newQuiz.questionList.splice(idx1, 1, x2Question);\n    newQuiz.questionList.splice(idx2, 1, x1Question);\n    setNewQuiz({\n      ...newQuiz,\n      questionList: newQuiz.questionList,\n    });\n  };\n\n  return (\n    <div>\n      <div className=\"edit_header\">\n        <Form.Group controlId=\"formEditQuizId\">\n          <div className=\"title_published_flex\">\n            <div className=\"edit_title_area\">\n              <Form.Label>Title: </Form.Label>\n              <Form.Control\n                value={newQuiz.title}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  setNewQuiz({\n                    ...newQuiz,\n                    title: e.target.value,\n                  })\n                }\n              ></Form.Control>\n            </div>\n            <Form.Check\n              className=\"published_check\"\n              type=\"checkbox\"\n              id=\"is-published_check\"\n              label=\"Quiz Published\"\n              data-testid=\"Quiz Published\"\n              checked={newQuiz.published}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setNewQuiz({\n                  ...newQuiz,\n                  published: !newQuiz.published,\n                });\n              }}\n            ></Form.Check>\n          </div>\n          <Form.Label>Description: </Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows={3}\n            value={newQuiz.body}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              setNewQuiz({ ...newQuiz, body: e.target.value })\n            }\n          ></Form.Control>\n        </Form.Group>\n      </div>\n\n      <div>\n        {newQuiz.questionList.map((q: Question, index: number) => (\n          <QuestionEdit\n            key={newQuiz.id + \"|\" + q.id}\n            index={index}\n            lastIndex={newQuiz.questionList.length - 1}\n            question={q}\n            editQuestion={editQuestion}\n            removeQuestion={removeQuestion}\n            swapQuestion={swapQuestion}\n          ></QuestionEdit>\n        ))}\n      </div>\n      <hr />\n      <div>\n        <Button\n          className=\"add_question_button\"\n          onClick={() => {\n            setNewQuiz({\n              ...newQuiz,\n              questionList: [\n                ...newQuiz.questionList,\n                {\n                  id: newQuiz.questionList.length,\n                  body: \"Example Question\",\n                  type: \"short_answer_question\",\n                  options: [],\n                  submission: \"\",\n                  expected: \"Example Answer\",\n                  points: 1,\n                  published: false,\n                },\n              ],\n            });\n          }}\n        >\n          Add Question\n        </Button>\n        <div className=\"edit_footer\">\n          <div>\n            <Button\n              variant=\"success\"\n              className=\"save_edit_btn\"\n              onClick={() => {\n                saveChanges();\n                switchEdit();\n              }}\n            >\n              Save\n            </Button>\n            <Button variant=\"warning\" onClick={switchEdit}>\n              Cancel\n            </Button>\n          </div>\n          <Button\n            variant=\"danger\"\n            onClick={() => {\n              deleteQuiz(quiz.id);\n              resetView();\n            }}\n          >\n            Delete Quiz\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}